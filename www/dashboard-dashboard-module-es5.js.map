{"version":3,"sources":["src/app/dashboard/dashboard.page.html","src/app/dashboard/dashboard.module.ts","src/app/dashboard/dashboard.page.scss","src/app/dashboard/dashboard.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,IAAA,mBAAA,CAAA,CAAA,CAAA,mBAAA;AAAe;;;AAAA,IAAA,mBAAA,CAAA,SAAA,CAAA,GAAA,4uFAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACSf,QAAM,MAAM,GAAW,CACrB;AACE,MAAA,IAAI,EAAE,EADR;AAEE,MAAA,SAAS,EAAE,4CAAA,CAAA,eAAA;AAFb,KADqB,CAAvB;;AAgBA,QAAa,mBAAb;AAAA;AAAA,KAAA;;AAAa,IAAA,mBAAmB,GAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CAT/B,MAAA,CAAA,0CAAA,CAAA,UAAA,CAAA,CAAA,CAAS;AACR,MAAA,OAAO,EAAE,CACP,4CAAA,CAAA,cAAA,CADO,EAEP,2CAAA,CAAA,aAAA,CAFO,EAGP,2CAAA,CAAA,aAAA,CAHO,EAIP,4CAAA,CAAA,cAAA,CAAA,CAAa,QAAb,CAAsB,MAAtB,CAJO,CADD;AAOR,MAAA,YAAY,EAAE,CAAC,4CAAA,CAAA,eAAA,CAAD;AAPN,KAAT,CAS+B,CAAA,EAAnB,mBAAmB,CAAnB;;;;;;;;;;;;;;;;ACzBb,IAAA,mBAAA,CAAA,CAAA,CAAA,mBAAA;AAAe;;;AAAA,IAAA,mBAAA,CAAA,SAAA,CAAA,GAAA,yxEAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCCKf;;;AAWA,QAAa,aAAb;AAAA;AAAA;AAIE,6BACU,OADV,EAEU,WAFV,EAGU,WAHV,EAIU,SAJV,EAI8C,SAJ9C,EAIkF,GAJlF,EAImG;AAAA;;AAHzF,aAAA,OAAA,GAAA,OAAA;AACA,aAAA,WAAA,GAAA,WAAA;AACA,aAAA,WAAA,GAAA,WAAA;AACA,aAAA,SAAA,GAAA,SAAA;AAAoC,aAAA,SAAA,GAAA,SAAA;AAAoC,aAAA,GAAA,GAAA,GAAA;AAChF,aAAK,KAAL,GAAa,KAAK,WAAL,CAAiB,QAAjB,EAAb;AACD;;AAVH;AAAA;AAAA,kCAYe;;;;;;;;;;;AACP,oBAAA,U,GAAa,KAAK,SAAL,CAAe,MAAf,CAAsB;AACrC;AACA,sBAAA,MAAM,EAAE,CACN;AACE,wBAAA,IAAI,EAAE,MADR;AAEE,wBAAA,WAAW,EAAE;AAFf,uBADM,CAF6B;AAQrC,sBAAA,OAAO,EAAE,CACP;AACE,wBAAA,IAAI,EAAE,SADR;AAEE,wBAAA,IAAI,EAAE;AAFR,uBADO,EAKP;AACE,wBAAA,IAAI,EAAE,QADR;AAEE,wBAAA,OAAO,EAAE,iBAAA,IAAI,EAAG;AACd,0BAAA,KAAI,CAAC,iBAAL,CAAuB,IAAI,CAAC,IAA5B;AACD;AAJH,uBALO;AAR4B,qBAAtB,C;;AAqBhB,2BAAM,UAAN;;;kCAAkB,O;;;;;;;;;AACpB;AAnCH;AAAA;AAAA,0CAsCoB,IAtCpB,EAsCgC;AAAA;;AAC5B,cAAI,MAAM,GAAG,KAAK,WAAL,CAAiB,eAAjB,CAAiC,IAAjC,CAAb,CAD4B,CAG5B;;AACA,UAAA,MAAM,CAAC,IAAP,GAAc,IAAd,CAAmB,UAAA,GAAG,EAAG;AACvB,YAAA,MAAI,CAAC,WAAL,CAAiB,mBAAjB,CAAqC,GAAG,CAAC,QAAzC,EAAmD,IAAnD,CAAwD;AAAA,qBAAY,kCAAA,CAAA,WAAA,CAAA,CAAA,MAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA;AAAA;AAAA,sCAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC9D,wBAAA,KAD8D,GACtD,KAAK,SAAL,CAAe,MAAf,CAAsB;AAChC,0BAAA,OAAO,EAAE,kBADuB;AAEhC,0BAAA,QAAQ,EAAE;AAFsB,yBAAtB,CADsD;AAAA;AAKjE,+BAAM,KAAN;;AALiE;AAAA,uCAKpD,OALoD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAA,EAAZ;AAAA,aAAxD;AAOD,WARD;AASD;AAnDH;AAAA;AAAA,mCAqDa,IArDb,EAqDsB;AAAA;;AAClB,eAAK,WAAL,CAAiB,UAAjB,CAA4B,IAA5B,EAAkC,SAAlC,CAA4C;AAAA,mBAAY,kCAAA,CAAA,WAAA,CAAA,CAAA,MAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA;AAAA;AAAA,oCAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAClD,sBAAA,KADkD,GAC1C,KAAK,SAAL,CAAe,MAAf,CAAsB;AAChC,wBAAA,OAAO,EAAE,kBADuB;AAEhC,wBAAA,QAAQ,EAAE;AAFsB,uBAAtB,CAD0C;AAAA;AAKrD,6BAAM,KAAN;;AALqD;AAAA,qCAKxC,OALwC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAA,EAAZ;AAAA,WAA5C;AAOD;AA7DH;AAAA;AAAA,iCA+DW,GA/DX,EA+DmB;AACf,eAAK,GAAL,CAAS,MAAT,CAAgB,GAAhB;AACD;AAjEH;AAAA;AAAA,mCAoEU;AACN,cAAG,KAAK,WAAL,CAAiB,WAAjB,EAAH,EAAkC;AAChC,iBAAK,SAAL,GAAiB,KAAK,WAAL,CAAiB,WAAjB,GAA+B,KAAhD;AACD,WAFD,MAEK;AACH,iBAAK,OAAL,CAAa,YAAb,CAA0B,QAA1B;AACD;AACF;AA1EH;AAAA;AAAA,iCA4EQ;AAAA;;AACJ,eAAK,WAAL,CAAiB,UAAjB,GACC,IADD,CACM,UAAA,GAAG,EAAG;AACV,YAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;;AACA,YAAA,MAAI,CAAC,OAAL,CAAa,YAAb,CAA0B,QAA1B;AACD,WAJD,EAKC,KALD,CAKO,UAAA,KAAK,EAAG;AACb,YAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACD,WAPD;AAQD;AArFH;;AAAA;AAAA,OAAA;;;;cAKqB,2CAAA,CAAA,eAAA;;cACI,6DAAA,CAAA,qBAAA;;cACA,0CAAA,CAAA,aAAA;;cACF,2CAAA,CAAA,iBAAA;;cAAoC,2CAAA,CAAA,iBAAA;;cAA8B,6DAAA,CAAA,cAAA;;;;AAR5E,IAAA,aAAa,GAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CALzB,MAAA,CAAA,0CAAA,CAAA,WAAA,CAAA,CAAA,CAAU;AACT,MAAA,QAAQ,EAAE,eADD;AAET,MAAA,QAAA,EAAA,kCAAA,CAAA,iBAAA,CAAA,CAAA,mBAAA;AAAA;AAAA,qFAAA,CAAA,EAAA,OAFS;;;;AAAA,KAAV,CAKyB,E,uEAKL,2CAAA,CAAA,eAAA,C,EACI,6DAAA,CAAA,qBAAA,C,EACA,0CAAA,CAAA,aAAA,C,EACF,2CAAA,CAAA,iBAAA,C,EAAoC,2CAAA,CAAA,iBAAA,C,EAA8B,6DAAA,CAAA,cAAA,C,EAR/D,CAAA,EAAb,aAAa,CAAb","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Tableau de bord.</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<style>\\nion-icon {\\n  font-size: 64px;\\n}\\n</style>\\n\\n<ion-card>\\n  <ion-card-header>\\n    <ion-card-subtitle>Votre projet.</ion-card-subtitle>\\n    <ion-card-title>Envoyez nous vos donnees.</ion-card-title>\\n  </ion-card-header>\\n\\n  <ion-card-content>\\n    Pour une etude rapide de votre projet, faites nous part de vos informations de base.\\n  </ion-card-content>\\n</ion-card>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col text-center>\\n        Bienvenue sur votre tableau de bord !\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col text-center>\\n        Votre identifiant de connexion: {{userEmail}}\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>  \\n  \\n  <ion-card-header>\\n      <ion-card-subtitle>Envoyez ici vos informations.</ion-card-subtitle>\\n      <ion-card-title></ion-card-title>\\n    </ion-card-header>\\n  \\n  \\n  \\n    <ion-grid>\\n  \\n        <ion-row class=\\\"ion-justify-content-center\\\">\\n            <ion-col>\\n              <div>\\n               \\n              </div>\\n            </ion-col>\\n            <ion-col>\\n              <div>\\n                  <ion-card *ngFor=\\\"let file of files | async\\\">\\n                      <ion-card-header>\\n                          {{ file.created | date:'medium' }}\\n                      </ion-card-header>\\n                   \\n                      <ion-card-content>\\n                   \\n                        <button ion-button block icon-left outline (click)=\\\"viewFile(file.url)\\\">\\n                          <ion-icon name=\\\"eye\\\"></ion-icon>\\n                          {{ file.fullPath }}\\n                        </button>\\n                   \\n                        <button ion-button block outline icon-left color=\\\"danger\\\" (click)=\\\"deleteFile(file)\\\">\\n                          <ion-icon name=\\\"trash\\\"></ion-icon> Effacer\\n                        </button>\\n                   \\n                      </ion-card-content>\\n                   \\n                    </ion-card>\\n                   \\n                    <ion-fab right bottom>\\n                      <button ion-fab color=\\\"primary\\\" (click)=\\\"addFile()\\\">\\n                        <ion-icon name=\\\"cloud-upload\\\"></ion-icon>\\n                      </button>\\n                    </ion-fab>\\n              </div>\\n            </ion-col>\\n            <ion-col>\\n              <div>\\n               \\n              </div>\\n            </ion-col>\\n           </ion-row>\\n  \\n        </ion-grid>  \\n  \\n     \\n  \\n \\n</ion-content>\\n\\n\\n<ion-footer (click)=\\\"logout()\\\">\\n  <ion-toolbar color=\\\"secondary\\\">\\n    <ion-title >Deconnexion</ion-title>\\n  </ion-toolbar>\\n</ion-footer>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DashboardPage } from './dashboard.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DashboardPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [DashboardPage]\n})\nexport class DashboardPageModule {}\n","export default \"/* Set variables for all modes */\\n:root {\\n  /* Set the background of the entire app */\\n  --ion-background-color: #a4e2ff;\\n  /* Set the font family of the entire app */\\n  --ion-font-family: -apple-system, BlinkMacSystemFont, \\\"Helvetica Neue\\\", \\\"Roboto\\\", sans-serif;\\n}\\n/* Set text color of the entire app for iOS only */\\n.ios {\\n  --ion-text-color: #000;\\n}\\n/* Set text color of the entire app for Material Design only */\\n.md {\\n  --ion-text-color: #222;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3Bob2Jvcy9kZXYyL2lvdGFiMjAyMC9pb3RhYi9zcmMvYXBwL2Rhc2hib2FyZC9kYXNoYm9hcmQucGFnZS5zY3NzIiwic3JjL2FwcC9kYXNoYm9hcmQvZGFzaGJvYXJkLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxnQ0FBQTtBQUNBO0VBQ0kseUNBQUE7RUFDQSwrQkFBQTtFQUVBLDBDQUFBO0VBQ0EsNEZBQUE7QUNESjtBRElFLGtEQUFBO0FBQ0E7RUFDRSxzQkFBQTtBQ0RKO0FESUUsOERBQUE7QUFDQTtFQUNFLHNCQUFBO0FDREoiLCJmaWxlIjoic3JjL2FwcC9kYXNoYm9hcmQvZGFzaGJvYXJkLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLyogU2V0IHZhcmlhYmxlcyBmb3IgYWxsIG1vZGVzICovXG46cm9vdCB7XG4gICAgLyogU2V0IHRoZSBiYWNrZ3JvdW5kIG9mIHRoZSBlbnRpcmUgYXBwICovXG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogI2E0ZTJmZjtcbiAgXG4gICAgLyogU2V0IHRoZSBmb250IGZhbWlseSBvZiB0aGUgZW50aXJlIGFwcCAqL1xuICAgIC0taW9uLWZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIFwiSGVsdmV0aWNhIE5ldWVcIiwgXCJSb2JvdG9cIiwgc2Fucy1zZXJpZjtcbiAgfVxuICBcbiAgLyogU2V0IHRleHQgY29sb3Igb2YgdGhlIGVudGlyZSBhcHAgZm9yIGlPUyBvbmx5ICovXG4gIC5pb3Mge1xuICAgIC0taW9uLXRleHQtY29sb3I6ICMwMDA7XG4gIH1cbiAgXG4gIC8qIFNldCB0ZXh0IGNvbG9yIG9mIHRoZSBlbnRpcmUgYXBwIGZvciBNYXRlcmlhbCBEZXNpZ24gb25seSAqL1xuICAubWQge1xuICAgIC0taW9uLXRleHQtY29sb3I6ICMyMjI7XG4gIH1cbiAgXG4gICIsIi8qIFNldCB2YXJpYWJsZXMgZm9yIGFsbCBtb2RlcyAqL1xuOnJvb3Qge1xuICAvKiBTZXQgdGhlIGJhY2tncm91bmQgb2YgdGhlIGVudGlyZSBhcHAgKi9cbiAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogI2E0ZTJmZjtcbiAgLyogU2V0IHRoZSBmb250IGZhbWlseSBvZiB0aGUgZW50aXJlIGFwcCAqL1xuICAtLWlvbi1mb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCBcIkhlbHZldGljYSBOZXVlXCIsIFwiUm9ib3RvXCIsIHNhbnMtc2VyaWY7XG59XG5cbi8qIFNldCB0ZXh0IGNvbG9yIG9mIHRoZSBlbnRpcmUgYXBwIGZvciBpT1Mgb25seSAqL1xuLmlvcyB7XG4gIC0taW9uLXRleHQtY29sb3I6ICMwMDA7XG59XG5cbi8qIFNldCB0ZXh0IGNvbG9yIG9mIHRoZSBlbnRpcmUgYXBwIGZvciBNYXRlcmlhbCBEZXNpZ24gb25seSAqL1xuLm1kIHtcbiAgLS1pb24tdGV4dC1jb2xvcjogIzIyMjtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { NavController } from '@ionic/angular';\nimport { AuthenticateService } from '../services/authentication.service';\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\n\n//import { InAppBrowser } from '@ionic-native/in-app-browser';\nimport { DataService } from '.././data.service';\nimport { AlertController } from '@ionic/angular';\nimport { ToastController } from '@ionic/angular';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.page.html',\n  styleUrls: ['./dashboard.page.scss'],\n})\nexport class DashboardPage implements OnInit {\n  files: Observable<any[]>;\n  userEmail: string;\n\n  constructor(\n    private navCtrl: NavController,\n    private authService: AuthenticateService,\n    private dataService: DataService,\n    private alertCtrl: AlertController, private toastCtrl: ToastController, private iab: InAppBrowser) { \n    this.files = this.dataService.getFiles();\n  }\n\n  async addFile() {\n    let inputAlert = this.alertCtrl.create({\n      //title: 'Store new information',\n      inputs: [\n        {\n          name: 'info',\n          placeholder: 'Vos informations...'\n        }\n      ],\n      buttons: [\n        {\n          text: 'Annuler',\n          role: 'cancel'\n        },\n        {\n          text: 'Sauver',\n          handler: data => {\n            this.uploadInformation(data.info);\n          }\n        }\n      ]\n    });\n    (await inputAlert).present();\n  }\n\n\n  uploadInformation(text: string) {\n    let upload = this.dataService.uploadToStorage(text);\n \n    // Perhaps this syntax might change, it's no error here!\n    upload.then().then(res => {\n      this.dataService.storeInfoToDatabase(res.metadata).then(async () => {\n        let toast = this.toastCtrl.create({\n          message: 'Element ajoute !',\n          duration: 3000\n        });\n        (await toast).present();\n      });\n    });\n  }\n\n  deleteFile(file: any) {\n    this.dataService.deleteFile(file).subscribe(async () => {\n      let toast = this.toastCtrl.create({\n        message: 'Element efface !',\n        duration: 3000\n      });\n      (await toast).present();\n    });\n  }\n \n  viewFile(url: any) {\n    this.iab.create(url);\n  }\n\n\n  ngOnInit() {\n    if(this.authService.userDetails()){\n      this.userEmail = this.authService.userDetails().email;\n    }else{\n      this.navCtrl.navigateBack('/login');\n    }\n  }\n\n  logout(){\n    this.authService.logoutUser()\n    .then(res => {\n      console.log(res);\n      this.navCtrl.navigateBack('/login');\n    })\n    .catch(error => {\n      console.log(error);\n    })\n  }\n\n}\n"],"sourceRoot":"webpack:///","file":"dashboard-dashboard-module-es5.js"}