{"version":3,"sources":["./src/app/dashboard/dashboard.page.html","./src/app/dashboard/dashboard.module.ts","./src/app/dashboard/dashboard.page.scss","./src/app/dashboard/dashboard.page.ts"],"names":[],"mappings":"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","file":"dashboard-dashboard-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Tableau de bord.</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<style>\\nion-icon {\\n  font-size: 64px;\\n}\\n</style>\\n\\n<ion-card>\\n  <ion-card-header>\\n    <ion-card-subtitle>Votre projet.</ion-card-subtitle>\\n    <ion-card-title>Envoyez nous vos donnees.</ion-card-title>\\n  </ion-card-header>\\n\\n  <ion-card-content>\\n    Pour une etude rapide de votre projet, faites nous part de vos informations de base.\\n  </ion-card-content>\\n</ion-card>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col text-center>\\n        Bienvenue sur votre tableau de bord !\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col text-center>\\n        Votre identifiant de connexion: {{userEmail}}\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>  \\n  \\n  <ion-card-header>\\n      <ion-card-subtitle>Envoyez ici vos informations.</ion-card-subtitle>\\n      <ion-card-title></ion-card-title>\\n    </ion-card-header>\\n  \\n  \\n  \\n    <ion-grid>\\n  \\n        <ion-row class=\\\"ion-justify-content-center\\\">\\n            <ion-col>\\n              <div>\\n               \\n              </div>\\n            </ion-col>\\n            <ion-col>\\n              <div>\\n                  <ion-card *ngFor=\\\"let file of files | async\\\">\\n                      <ion-card-header>\\n                          {{ file.created | date:'medium' }}\\n                      </ion-card-header>\\n                   \\n                      <ion-card-content>\\n                   \\n                        <button ion-button block icon-left outline (click)=\\\"viewFile(file.url)\\\">\\n                          <ion-icon name=\\\"eye\\\"></ion-icon>\\n                          {{ file.fullPath }}\\n                        </button>\\n                   \\n                        <button ion-button block outline icon-left color=\\\"danger\\\" (click)=\\\"deleteFile(file)\\\">\\n                          <ion-icon name=\\\"trash\\\"></ion-icon> Effacer\\n                        </button>\\n                   \\n                      </ion-card-content>\\n                   \\n                    </ion-card>\\n                   \\n                    <ion-fab right bottom>\\n                      <button ion-fab color=\\\"primary\\\" (click)=\\\"addFile()\\\">\\n                        <ion-icon name=\\\"cloud-upload\\\"></ion-icon>\\n                      </button>\\n                    </ion-fab>\\n              </div>\\n            </ion-col>\\n            <ion-col>\\n              <div>\\n               \\n              </div>\\n            </ion-col>\\n           </ion-row>\\n  \\n        </ion-grid>  \\n  \\n     \\n  \\n \\n</ion-content>\\n\\n\\n<ion-footer (click)=\\\"logout()\\\">\\n  <ion-toolbar color=\\\"secondary\\\">\\n    <ion-title >Deconnexion</ion-title>\\n  </ion-toolbar>\\n</ion-footer>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DashboardPage } from './dashboard.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DashboardPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [DashboardPage]\n})\nexport class DashboardPageModule {}\n","module.exports = \"/* Set variables for all modes */\\n:root {\\n  /* Set the background of the entire app */\\n  --ion-background-color: #a4e2ff;\\n  /* Set the font family of the entire app */\\n  --ion-font-family: -apple-system, BlinkMacSystemFont, \\\"Helvetica Neue\\\", \\\"Roboto\\\", sans-serif;\\n}\\n/* Set text color of the entire app for iOS only */\\n.ios {\\n  --ion-text-color: #000;\\n}\\n/* Set text color of the entire app for Material Design only */\\n.md {\\n  --ion-text-color: #222;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3Bob2Jvcy9kZXYvaW9uaWMvaW90YWIvZXh0cmFjdC9pb3RhYjEvaW90YWIvc3JjL2FwcC9kYXNoYm9hcmQvZGFzaGJvYXJkLnBhZ2Uuc2NzcyIsInNyYy9hcHAvZGFzaGJvYXJkL2Rhc2hib2FyZC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsZ0NBQUE7QUFDQTtFQUNJLHlDQUFBO0VBQ0EsK0JBQUE7RUFFQSwwQ0FBQTtFQUNBLDRGQUFBO0FDREo7QURJRSxrREFBQTtBQUNBO0VBQ0Usc0JBQUE7QUNESjtBRElFLDhEQUFBO0FBQ0E7RUFDRSxzQkFBQTtBQ0RKIiwiZmlsZSI6InNyYy9hcHAvZGFzaGJvYXJkL2Rhc2hib2FyZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qIFNldCB2YXJpYWJsZXMgZm9yIGFsbCBtb2RlcyAqL1xuOnJvb3Qge1xuICAgIC8qIFNldCB0aGUgYmFja2dyb3VuZCBvZiB0aGUgZW50aXJlIGFwcCAqL1xuICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6ICNhNGUyZmY7XG4gIFxuICAgIC8qIFNldCB0aGUgZm9udCBmYW1pbHkgb2YgdGhlIGVudGlyZSBhcHAgKi9cbiAgICAtLWlvbi1mb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCBcIkhlbHZldGljYSBOZXVlXCIsIFwiUm9ib3RvXCIsIHNhbnMtc2VyaWY7XG4gIH1cbiAgXG4gIC8qIFNldCB0ZXh0IGNvbG9yIG9mIHRoZSBlbnRpcmUgYXBwIGZvciBpT1Mgb25seSAqL1xuICAuaW9zIHtcbiAgICAtLWlvbi10ZXh0LWNvbG9yOiAjMDAwO1xuICB9XG4gIFxuICAvKiBTZXQgdGV4dCBjb2xvciBvZiB0aGUgZW50aXJlIGFwcCBmb3IgTWF0ZXJpYWwgRGVzaWduIG9ubHkgKi9cbiAgLm1kIHtcbiAgICAtLWlvbi10ZXh0LWNvbG9yOiAjMjIyO1xuICB9XG4gIFxuICAiLCIvKiBTZXQgdmFyaWFibGVzIGZvciBhbGwgbW9kZXMgKi9cbjpyb290IHtcbiAgLyogU2V0IHRoZSBiYWNrZ3JvdW5kIG9mIHRoZSBlbnRpcmUgYXBwICovXG4gIC0taW9uLWJhY2tncm91bmQtY29sb3I6ICNhNGUyZmY7XG4gIC8qIFNldCB0aGUgZm9udCBmYW1pbHkgb2YgdGhlIGVudGlyZSBhcHAgKi9cbiAgLS1pb24tZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgXCJIZWx2ZXRpY2EgTmV1ZVwiLCBcIlJvYm90b1wiLCBzYW5zLXNlcmlmO1xufVxuXG4vKiBTZXQgdGV4dCBjb2xvciBvZiB0aGUgZW50aXJlIGFwcCBmb3IgaU9TIG9ubHkgKi9cbi5pb3Mge1xuICAtLWlvbi10ZXh0LWNvbG9yOiAjMDAwO1xufVxuXG4vKiBTZXQgdGV4dCBjb2xvciBvZiB0aGUgZW50aXJlIGFwcCBmb3IgTWF0ZXJpYWwgRGVzaWduIG9ubHkgKi9cbi5tZCB7XG4gIC0taW9uLXRleHQtY29sb3I6ICMyMjI7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { NavController } from '@ionic/angular';\nimport { AuthenticateService } from '../services/authentication.service';\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\n\n//import { InAppBrowser } from '@ionic-native/in-app-browser';\nimport { DataService } from '.././data.service';\nimport { AlertController } from '@ionic/angular';\nimport { ToastController } from '@ionic/angular';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.page.html',\n  styleUrls: ['./dashboard.page.scss'],\n})\nexport class DashboardPage implements OnInit {\n  files: Observable<any[]>;\n  userEmail: string;\n\n  constructor(\n    private navCtrl: NavController,\n    private authService: AuthenticateService,\n    private dataService: DataService,\n    private alertCtrl: AlertController, private toastCtrl: ToastController, private iab: InAppBrowser) { \n    this.files = this.dataService.getFiles();\n  }\n\n  async addFile() {\n    let inputAlert = this.alertCtrl.create({\n      //title: 'Store new information',\n      inputs: [\n        {\n          name: 'info',\n          placeholder: 'Vos informations...'\n        }\n      ],\n      buttons: [\n        {\n          text: 'Annuler',\n          role: 'cancel'\n        },\n        {\n          text: 'Sauver',\n          handler: data => {\n            this.uploadInformation(data.info);\n          }\n        }\n      ]\n    });\n    (await inputAlert).present();\n  }\n\n\n  uploadInformation(text: string) {\n    let upload = this.dataService.uploadToStorage(text);\n \n    // Perhaps this syntax might change, it's no error here!\n    upload.then().then(res => {\n      this.dataService.storeInfoToDatabase(res.metadata).then(async () => {\n        let toast = this.toastCtrl.create({\n          message: 'Element ajoute !',\n          duration: 3000\n        });\n        (await toast).present();\n      });\n    });\n  }\n\n  deleteFile(file: any) {\n    this.dataService.deleteFile(file).subscribe(async () => {\n      let toast = this.toastCtrl.create({\n        message: 'Element efface !',\n        duration: 3000\n      });\n      (await toast).present();\n    });\n  }\n \n  viewFile(url: any) {\n    this.iab.create(url);\n  }\n\n\n  ngOnInit() {\n    if(this.authService.userDetails()){\n      this.userEmail = this.authService.userDetails().email;\n    }else{\n      this.navCtrl.navigateBack('/login');\n    }\n  }\n\n  logout(){\n    this.authService.logoutUser()\n    .then(res => {\n      console.log(res);\n      this.navCtrl.navigateBack('/login');\n    })\n    .catch(error => {\n      console.log(error);\n    })\n  }\n\n}\n"],"sourceRoot":""}